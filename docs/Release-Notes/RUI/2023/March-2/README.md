---
release_date: 03/02/2023
version: "4.0.0"
release_notes_description: The RAKwireless Unified Interface V3 (RUI3) is designed to help IoT developers make their IoT products faster. It is compatible with RAK LPWAN modules and supports the standard AT Commands and the Binary Mode. The Binary mode is an improved version of the AT command with its efficient byte-array-based protocol and implementation of checksum. RUI3 also allows you to create your own custom firmware using RUI3 APIs that are compatible with popular IDEs like Arduino and Visual Studio. With custom firmware, you will not need any external host microcontroller or microprocessor, which can save you cost, circuit board space, and current consumption.
logo: /assets/images/release-notes/rui.png
download_link: https://downloads.rakwireless.com/RUI/RUI3/Image/
---

<rk-release-notes/>

---

##### Added


| No. | Feature                             | Description                                                                                                                                                                                                                                                | Reference                                                                                               |
| --- | ----------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- |
| 1   | AT version update to 1.5.9 version  | Adding AT commands                                                                                                                                                                                                                                         | -                                                                                                       |
| 2   | API version update to 3.2.4 version | Adding API commands                                                                                                                                                                                                                                        | -                                                                                                       |
| 3   | Support new WisBlock                | Support new WisBlock-Apollo (RAK11720+RAK11722)                                                                                                                                                                                                            | -                                                                                                       |
| 4   | Support LPM level function          | Support 2 types of LPM level and can choose for saving current consumption <br> `AT+LPMLVL` - get or set low-power mode level.                                                                                                                             | [RUI3 > AT Command Manual](https://docs.rakwireless.com/RUI3/Serial-Operating-Modes/AT-Command-Manual/) |
| 5   | Enable LBT function                 | Support LBT function for Japan & Korea region <br> `AT+LBT` - get or set the LoRaWAN LBT (Japan & Korea) <br> `AT+LBTRSSI` - get or set the LoRaWAN LBT RSSI (Japan & Korea) <br> `AT+LBTSCANTIME` - get or set the LoRaWAN LBT scan time (Japan & Korea). | [RUI3 > AT Command Manual](https://docs.rakwireless.com/RUI3/Serial-Operating-Modes/AT-Command-Manual/) |

##### Changed

| No. | Feature                    | Description                                                         |
| --- | -------------------------- | ------------------------------------------------------------------- |
| 1   | Change LPM default setting | Set LPM=0 as default setting which is disable LPM at the beginning. |
| 2   | Enhance USB performance    | Enhance USB performance and add 238 bytes buffer for writing.       |

##### Fixed

| Daily Build No. / Bug No. | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| -                         | Fixed compile problem of Gas Sensor SGP40. Sensirion Gas Sensor SGP40 compile problem is solved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -                         | Fixed `AT+BAUD` command. `AT+BAUD`: ATR would restore BaudRate to default (115200).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| -                         | Fixed `AT+CHE` command. `AT+CHE`: In region EU868 which is CHE unsupported, input `AT+CHE=?` will return `AT_ERROR`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| -                         | Fixed `AT+CHS` command. `AT+CHS`: In region EU868 which is CHS unsupported, input `AT+CHS=?` will return `AT+CHS=0`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| -                         | Fixed `AT+ADDMULC` command. <br> `AT+ADDMULC`: Add 5th multicast group would cause `AT_ERROR`. <br> `AT+ADDMULC`: Add a multicast group with `DevAddr = "00000000"` would cause `AT_ERROR`. <br> `AT+ADDMULC`: Add a multicast group with over-range frequency would cause `AT_ERROR`. <br> `AT+ADDMULC`: Unexpected **OK** while adding Multicast group with periodicity value, which include '**8**','**-1**','**ä¸­**', '**a**', '**-**', '__*__', '**@**', '**s**' in CLASS C. <br> `AT+ADDMULC`: Unexpected **OK** while adding Multicast group with periodicity value in Class C. <br> `AT+ADDMULC`: Add a multicast group with DataRate string "01" (format from LSTMULC) would cause `AT_PARAM_ERROR`. |
| -                         | Fixed `AT+NWM` command. `AT+NWM`: In `p2p_lora` mode, **DUT** could modify **DEVEUI**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| -                         | Fixed input invalid AT command return value. Sometimes, input valid AT Commands will return `AT_ERROR`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| -                         | Fixed confirmed uplink to response ACK. DUT use confirmed uplink to response ACK.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -                         | Fixed Apollo3 P2P mode abnormal.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -                         | Fixed LPM function abnormal.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| -                         | Fixed `AT+CERTIF` description. `AT+CERTIF` would activate certification mode as `AT+CERTIF=1` do.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -                         | Fixed `Serial.begin(xxxx)` example. Missing `Serial.begin(xxxx);` in quite a few examples.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| -                         | Fixed `AT+SLEEP` command. `AT+SLEEP` for permanent sleep mode when `AT+LPM=0`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -                         | Fixed `AT+JOIN=1:1:240:240` behavior. `AT+JOIN=1:1:240:240` is not as expected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -                         | Fixed `ATR` command. RAK4630 RUI_4.0.0_219 ATR command throws error, then starts join requests.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -                         | Fixed erased HW model issue. RAK3172 firmware upgrade from V3.4.2 to 4.0.0_219 erases HW model.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -                         | Fixed API can't wakeup device during LPM mode. RAK11720 can't wakeup when enable LPM via API.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -                         | Fixed uplink `BUSY_ERROR` issue. RAK4631 uplink `BUSY_ERROR` after about 20 minutes of continuous transmission.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -                         | Fixed RAK4631 canât connect with WisToolBox issue.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -                         | Fixed RAK11720 can't wakeup during P2P receiving window open (over 10s or do not close windows).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -                         | Fixed RAK4631: `api.system.sleep.all()` will sleep 2 times.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -                         | Fixed HW model: Setting value is 0 after upgrading firmware. HW model value is "0" after upgrade from RUI_3.4.2 to RUI_4.0.0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -                         | Fixed LoRa P2P do not work on v3.5.4 and v4.0.0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -                         | Fixed LoRa P2P `AT+PRECV` behavior issue.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

